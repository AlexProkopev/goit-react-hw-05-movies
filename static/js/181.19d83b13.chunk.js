"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[181],{624:function(e,t,i){i.r(t),i.d(t,{default:function(){return T}});var r=i(439),s=i(791),a=i(689),n=i(87),o="MovieDetails_wrapperMovie__Nj4ri",l="MovieDetails_goBackBtn__WL+X0",c="MovieDetails_linkCastRewievs__ACbxb",d="MovieDetails_wrapperLink__RqOdW",p=i(861),m=i(757),u=i.n(m),h=i(294),v=function(){var e=(0,p.Z)(u().mark((function e(t,i,r,s){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0),e.next=4,h.Z.get(s);case 4:a=e.sent,i(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0.mesage);case 11:return e.prev=11,t(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t,i,r,s){return e.apply(this,arguments)}}(),_={wrapperMovie:"MovieDetailsComponent_wrapperMovie__Ncsy9",imgPoster:"MovieDetailsComponent_imgPoster__oWRz8",title:"MovieDetailsComponent_title__BdDBo",descripTitle:"MovieDetailsComponent_descripTitle__F6gGs",description:"MovieDetailsComponent_description__3KLDi",linkCastRewievs:"MovieDetailsComponent_linkCastRewievs__qzKa1",wrapperLink:"MovieDetailsComponent_wrapperLink__sVGc-",titleVideo:"MovieDetailsComponent_titleVideo__Rd94U"},f=i(870),x=i(913),j=i(335),w="VideoPlayer_wrapperVideoPlayer__a6UlG",g="VideoPlayer_videoPlayer__a0tsp",k="VideoPlayer_textNotTrailer__uxmTb",b=i(184),N=function(e){var t=e.movieId,i=(0,s.useState)([]),a=(0,r.Z)(i,2),n=a[0],o=a[1],l=(0,s.useState)(!1),c=(0,r.Z)(l,2),d=c[0],p=c[1],m=(0,s.useState)(!1),u=(0,r.Z)(m,2),h=u[0],v=u[1],_="https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=e9b50bda4ce56f3b360f447ed6508c77");(0,s.useEffect)((function(){(0,j.v)(p,o,v,_)}),[_]);var f=n.find((function(e){return"Official Trailer"===e.name})),N=void 0!==f;return(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)(x.default,{}),h&&(0,b.jsx)("h4",{children:"Server Error"}),N&&(0,b.jsx)("div",{className:w,children:(0,b.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(f.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:g})}),!N&&(0,b.jsx)("p",{className:k,children:"No official trailer available."})]})},C=function(e){var t=e.movie;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{className:_.imgPoster,src:t.poster_path?"https://image.tmdb.org/t/p/w500"+t.poster_path:f.k,alt:"Poster for Movie"}),(0,b.jsx)("h2",{className:_.title,children:t.original_title}),(0,b.jsx)("h2",{className:_.descripTitle,children:"Description:"}),(0,b.jsx)("p",{className:_.description,children:t.overview}),(0,b.jsx)("h2",{className:_.descripTitle,children:"Rating:"}),(0,b.jsx)("p",{className:_.description,children:t.vote_average}),(0,b.jsx)("h2",{className:_.descripTitle,children:"Date: "}),(0,b.jsx)("p",{className:_.description,children:t.release_date}),void 0!==t.genres&&t.genres.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:_.descripTitle,children:"Genre:"}),(0,b.jsx)("p",{className:_.description,children:0!==t.length&&t.genres.map((function(e,t){return(0,b.jsxs)("span",{className:_.spanMap,children:[" ",e.name,"."]},t)}))}),(0,b.jsx)("h2",{className:_.titleVideo,children:"Trailer"}),(0,b.jsx)(N,{movieId:t.id})]})]})},M=i(683);var y=function(e){return(0,b.jsx)("svg",(0,M.Z)((0,M.Z)({viewBox:"0 0 512 512",fill:"currentColor",height:"1em",width:"1em"},e),{},{children:(0,b.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:48,d:"M244 400L100 256l144-144M120 256h292"})}))},D=(0,s.lazy)((function(){return i.e(742).then(i.bind(i,742))})),Z=(0,s.lazy)((function(){return Promise.all([i.e(686),i.e(168)]).then(i.bind(i,168))})),S=(0,s.lazy)((function(){return Promise.resolve().then(i.bind(i,913))})),T=function(){var e,t,i=(0,a.UO)().movieId,p=(0,s.useState)([]),m=(0,r.Z)(p,2),u=m[0],h=m[1],_=(0,s.useState)(!1),f=(0,r.Z)(_,2),x=f[0],j=f[1],w=(0,s.useState)(!1),g=(0,r.Z)(w,2),k=g[0],N=g[1],M=(0,s.useState)(!1),T=(0,r.Z)(M,2),P=T[0],L=T[1],R=(0,s.useState)(!1),V=(0,r.Z)(R,2),B=V[0],F=V[1],W=(0,a.TH)(),z=(0,s.useRef)(null!==(e=null===(t=W.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),G="https://api.themoviedb.org/3/movie/".concat(i,"?api_key=e9b50bda4ce56f3b360f447ed6508c77");(0,s.useEffect)((function(){return v(j,h,N,G),function(){F(!1),L(!1)}}),[h,G]);return(0,b.jsxs)("section",{children:[(0,b.jsxs)(n.rU,{to:z.current,className:l,children:[(0,b.jsx)(y,{})," Go back"]}),x&&(0,b.jsx)(S,{}),k&&(0,b.jsx)("h4",{children:"Server Error"}),(0,b.jsx)("div",{className:o,children:(0,b.jsx)(C,{movie:u})}),(0,b.jsxs)("div",{className:d,children:[(0,b.jsx)(n.OL,{to:"cast",className:c,state:{from:W},onClick:function(){F(!1),L(!P)},children:"Cast"}),(0,b.jsx)(n.OL,{to:"rewievs",className:c,state:{from:W},onClick:function(){F(!B),L(!1)},children:"Rewievs"})]}),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(s.Suspense,{fallback:(0,b.jsx)(S,{}),children:(0,b.jsxs)(a.Z5,{children:[P&&(0,b.jsx)(a.AW,{path:"cast",element:(0,b.jsx)(D,{})}),B&&(0,b.jsx)(a.AW,{path:"rewievs",element:(0,b.jsx)(Z,{})})]})})})]})}}}]);
//# sourceMappingURL=181.19d83b13.chunk.js.map