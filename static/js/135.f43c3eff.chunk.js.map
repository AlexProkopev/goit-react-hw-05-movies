{"version":3,"file":"static/js/135.f43c3eff.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapperMovie\":\"MovieDetails_wrapperMovie__Nj4ri\",\"imgPoster\":\"MovieDetails_imgPoster__U5M2k\",\"title\":\"MovieDetails_title__cUGs9\",\"description\":\"MovieDetails_description__33mrB\",\"linkCastRewievs\":\"MovieDetails_linkCastRewievs__ACbxb\",\"wrapperLink\":\"MovieDetails_wrapperLink__RqOdW\",\"spanMap\":\"MovieDetails_spanMap__UrpTi\"};","import axios from 'axios';\nimport React, { Suspense, lazy, useEffect, useRef, useState } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport css from './MovieDetails.module.css';\n\nconst Cast = lazy(() => import('components/Cast/Cast'));\nconst Reviews = lazy(() => import('components/Reviews/Reviews'));\nconst Loader = lazy(() => import('components/Loader/Loader'));\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState([]);\n  const [isLoading, setisLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  const location = useLocation();\n  // const locationBack = location.state !== null && location.state.from.pathname\n\n  const locationBack = useRef(location.state?.from ?? '/');\n\n  const currentMovies = `https://api.themoviedb.org/3/movie/${movieId}?api_key=e9b50bda4ce56f3b360f447ed6508c77`;\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setisLoading(true);\n\n        const response = await axios.get(currentMovies);\n\n        setMovie(response.data);\n      } catch (error) {\n        setIsError(error.mesage);\n      } finally {\n        setisLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [currentMovies]);\n\n  const defaultImg =\n  'https://rgo.ru/upload/content_block/images/9ca8302358b777e143cd6e314058266b/7065323d0aa2e3fa6e8764c4f57f1655.jpg?itok=sawvdjq3';\n\n\n  return (\n    <div>\n      <Link to={locationBack.current} className={css.linkCastRewievs}>\n        Go back\n      </Link>\n\n      {isLoading && <Loader />}\n      {isError && <h4>Ошибка сервера</h4>}\n\n      <div className={css.wrapperMovie}>\n      {/* <img\n          className={css.imgPoster}\n          src={'https://image.tmdb.org/t/p/w500' + movie.poster_path}\n          alt=\"\"\n        /> */}\n\n           <img\n                className={css.imgPoster}\n              src={\n                movie.poster_path\n                  ? 'https://image.tmdb.org/t/p/w500' + movie.poster_path\n                  : defaultImg\n              }\n              alt=\"\"\n            />\n        <h2 className={css.title}>{movie.original_title}</h2>\n        <h2>Description:</h2>\n        <p className={css.description}>{movie.overview}</p>\n        <h2>Rating:</h2>\n        <p className={css.description}>{movie.vote_average}</p>\n        <h2>Genre:</h2>\n        <p className={css.description}>{movie.length !== 0 && movie.genres.map((el,index)=> <span key={index} className={css.spanMap}>{el.name}.</span> )}</p>\n      </div>\n      <div className={css.wrapperLink}>\n        <NavLink to=\"cast\" className={css.linkCastRewievs}>\n          Cast\n        </NavLink>\n        <NavLink to=\"rewievs\" className={css.linkCastRewievs}>\n          Rewievs\n        </NavLink>\n      </div>\n\n      <div>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast />} />\n            <Route path=\"rewievs\" element={<Reviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["Cast","lazy","Reviews","Loader","_location$state$from","_location$state","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","isLoading","setisLoading","_useState5","_useState6","isError","setIsError","location","useLocation","locationBack","useRef","state","from","currentMovies","concat","useEffect","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","axios","sent","data","t0","mesage","finish","stop","apply","arguments","_jsxs","children","_jsx","Link","to","current","className","css","src","poster_path","alt","original_title","overview","vote_average","length","genres","map","el","index","name","NavLink","Suspense","fallback","Routes","Route","path","element"],"sourceRoot":""}